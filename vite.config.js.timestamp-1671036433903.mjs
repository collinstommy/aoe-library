// vite.config.js
import { sveltekit } from "file:///home/collinstommy/toms_code/aoe-library/node_modules/@sveltejs/kit/src/exports/vite/index.js";

// src/build/writeItems.js
import fs from "fs";
import path from "path";
import YAML from "file:///home/collinstommy/toms_code/aoe-library/node_modules/json-to-pretty-yaml/index.js";
async function writeItems() {
  const ITEMS_FOLDER = "./content/items";
  const JSON_PATH = "./static/data";
  console.log("Reading items from " + ITEMS_FOLDER);
  const items = fs.readdirSync(ITEMS_FOLDER).map((file) => {
    const fileData = fs.readFileSync(path.join(ITEMS_FOLDER, file));
    return JSON.parse(fileData.toString());
  });
  console.log("Writing json and yaml to" + JSON_PATH);
  fs.writeFileSync(path.join(JSON_PATH, "items.json"), JSON.stringify(items));
  fs.writeFileSync(path.join(JSON_PATH, "items.yml"), YAML.stringify(items));
  console.log("Wrote items to file");
}

// vite.config.js
var config = {
  plugins: [
    sveltekit(),
    {
      name: "postbuild-commands",
      buildStart: async () => {
        writeItems();
      }
    }
  ],
  server: {
    fs: {
      allow: [".."]
    }
  }
};
var vite_config_default = config;
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcuanMiLCAic3JjL2J1aWxkL3dyaXRlSXRlbXMuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvaG9tZS9jb2xsaW5zdG9tbXkvdG9tc19jb2RlL2FvZS1saWJyYXJ5XCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvaG9tZS9jb2xsaW5zdG9tbXkvdG9tc19jb2RlL2FvZS1saWJyYXJ5L3ZpdGUuY29uZmlnLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9ob21lL2NvbGxpbnN0b21teS90b21zX2NvZGUvYW9lLWxpYnJhcnkvdml0ZS5jb25maWcuanNcIjtpbXBvcnQgeyBzdmVsdGVraXQgfSBmcm9tICdAc3ZlbHRlanMva2l0L3ZpdGUnO1xuaW1wb3J0IHsgd3JpdGVJdGVtcyB9IGZyb20gJy4vc3JjL2J1aWxkL3dyaXRlSXRlbXMnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHBsdWdpbnM6IFtzdmVsdGVraXQoKSxcbiAge1xuICAgIG5hbWU6ICdwb3N0YnVpbGQtY29tbWFuZHMnLCAvLyB0aGUgbmFtZSBvZiB5b3VyIGN1c3RvbSBwbHVnaW4uIENvdWxkIGJlIGFueXRoaW5nLlxuICAgIGJ1aWxkU3RhcnQ6IGFzeW5jICgpID0+IHtcbiAgICAgIHdyaXRlSXRlbXMoKVxuICAgIH1cbiAgfSxdLFxuICBzZXJ2ZXI6IHtcbiAgICBmczoge1xuICAgICAgLy8gQWxsb3cgc2VydmluZyBmaWxlcyBmcm9tIG9uZSBsZXZlbCB1cCB0byB0aGUgcHJvamVjdCByb290XG4gICAgICBhbGxvdzogWycuLiddLFxuICAgIH0sXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG4iLCAiY29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2Rpcm5hbWUgPSBcIi9ob21lL2NvbGxpbnN0b21teS90b21zX2NvZGUvYW9lLWxpYnJhcnkvc3JjL2J1aWxkXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvaG9tZS9jb2xsaW5zdG9tbXkvdG9tc19jb2RlL2FvZS1saWJyYXJ5L3NyYy9idWlsZC93cml0ZUl0ZW1zLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9ob21lL2NvbGxpbnN0b21teS90b21zX2NvZGUvYW9lLWxpYnJhcnkvc3JjL2J1aWxkL3dyaXRlSXRlbXMuanNcIjtpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgWUFNTCBmcm9tICdqc29uLXRvLXByZXR0eS15YW1sJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlSXRlbXMoKSB7XG4gIGNvbnN0IElURU1TX0ZPTERFUiA9ICcuL2NvbnRlbnQvaXRlbXMnO1xuICBjb25zdCBKU09OX1BBVEggPSAnLi9zdGF0aWMvZGF0YSdcblxuICBjb25zb2xlLmxvZygnUmVhZGluZyBpdGVtcyBmcm9tICcgKyBJVEVNU19GT0xERVIpO1xuICBjb25zdCBpdGVtcyA9IGZzLnJlYWRkaXJTeW5jKElURU1TX0ZPTERFUikubWFwKGZpbGUgPT4ge1xuICAgIGNvbnN0IGZpbGVEYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihJVEVNU19GT0xERVIsIGZpbGUpKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShmaWxlRGF0YS50b1N0cmluZygpKTtcbiAgfSk7XG5cbiAgY29uc29sZS5sb2coJ1dyaXRpbmcganNvbiBhbmQgeWFtbCB0bycgKyBKU09OX1BBVEgpO1xuICBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihKU09OX1BBVEgsICdpdGVtcy5qc29uJyksIEpTT04uc3RyaW5naWZ5KGl0ZW1zKSk7XG4gIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKEpTT05fUEFUSCwgJ2l0ZW1zLnltbCcpLCBZQU1MLnN0cmluZ2lmeShpdGVtcykpO1xuICBjb25zb2xlLmxvZygnV3JvdGUgaXRlbXMgdG8gZmlsZScpO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUEwUyxTQUFTLGlCQUFpQjs7O0FDQUUsT0FBTyxRQUFRO0FBQ3JWLE9BQU8sVUFBVTtBQUNqQixPQUFPLFVBQVU7QUFFakIsZUFBc0IsYUFBYTtBQUNqQyxRQUFNLGVBQWU7QUFDckIsUUFBTSxZQUFZO0FBRWxCLFVBQVEsSUFBSSx3QkFBd0IsWUFBWTtBQUNoRCxRQUFNLFFBQVEsR0FBRyxZQUFZLFlBQVksRUFBRSxJQUFJLFVBQVE7QUFDckQsVUFBTSxXQUFXLEdBQUcsYUFBYSxLQUFLLEtBQUssY0FBYyxJQUFJLENBQUM7QUFDOUQsV0FBTyxLQUFLLE1BQU0sU0FBUyxTQUFTLENBQUM7QUFBQSxFQUN2QyxDQUFDO0FBRUQsVUFBUSxJQUFJLDZCQUE2QixTQUFTO0FBQ2xELEtBQUcsY0FBYyxLQUFLLEtBQUssV0FBVyxZQUFZLEdBQUcsS0FBSyxVQUFVLEtBQUssQ0FBQztBQUMxRSxLQUFHLGNBQWMsS0FBSyxLQUFLLFdBQVcsV0FBVyxHQUFHLEtBQUssVUFBVSxLQUFLLENBQUM7QUFDekUsVUFBUSxJQUFJLHFCQUFxQjtBQUNuQzs7O0FEZkEsSUFBTSxTQUFTO0FBQUEsRUFDYixTQUFTO0FBQUEsSUFBQyxVQUFVO0FBQUEsSUFDcEI7QUFBQSxNQUNFLE1BQU07QUFBQSxNQUNOLFlBQVksWUFBWTtBQUN0QixtQkFBVztBQUFBLE1BQ2I7QUFBQSxJQUNGO0FBQUEsRUFBRTtBQUFBLEVBQ0YsUUFBUTtBQUFBLElBQ04sSUFBSTtBQUFBLE1BRUYsT0FBTyxDQUFDLElBQUk7QUFBQSxJQUNkO0FBQUEsRUFDRjtBQUNGO0FBRUEsSUFBTyxzQkFBUTsiLAogICJuYW1lcyI6IFtdCn0K
